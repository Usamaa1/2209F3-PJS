let score0 = document.getElementById("score--0"), score1 = document.getElementById("score--1"), current0 = document.getElementById("current--0"), current1 = document.getElementById("current--1"), dice = document.getElementById("dice"), btnRoll = document.getElementById("btn--roll"), btnHold = document.getElementById("btnHold"), restart = document.getElementById("restart"), currentScore, activePlayer, score, playing; function initialValues() { score0.textContent = 0, score1.textContent = 0, current0.textContent = 0, current1.textContent = 0, dice.classList.add("hidden"), currentScore = 0, activePlayer = 0, score = [0, 0], playing = !0 } function switchPlayer() { document.querySelector(`.player--${activePlayer}`).classList.remove("player--active"), document.getElementById(`current--${activePlayer}`).textContent = 0, activePlayer = 0 === activePlayer ? 1 : 0, document.querySelector(`.player--${activePlayer}`).classList.toggle("player--active"), currentScore = 0 } initialValues(), btnRoll.addEventListener("click", () => { if (playing) { let e = Math.trunc(6 * Math.random() + 1); dice.src = `dice-${e}.png`, dice.classList.remove("hidden"), 1 !== e ? (currentScore += e, console.log(currentScore), document.getElementById(`current--${activePlayer}`).textContent = currentScore) : switchPlayer() } }), btnHold.addEventListener("click", () => { score[activePlayer] += currentScore, score[activePlayer] >= 30 ? (document.querySelector(`.player--${activePlayer}`).classList.remove("player--active"), document.querySelector(`.player--${activePlayer}`).classList.toggle("player--winner"), document.getElementById(`score--${activePlayer}`).textContent = score[activePlayer], dice.classList.add("hidden"), playing = !1) : (document.getElementById(`score--${activePlayer}`).textContent = score[activePlayer], switchPlayer()) }), restart.addEventListener("click", () => { document.querySelector(`.player--${activePlayer}`).classList.remove("player--active"), document.querySelector(`.player--${activePlayer}`).classList.remove("player--winner"), document.querySelector(".player--0").classList.toggle("player--active"), initialValues() });